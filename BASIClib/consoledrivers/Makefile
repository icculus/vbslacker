#----------------------------------------------------------------------------#
# Makefile for BASIClib's console drivers. Probably shouldn't touch.
#
#
#                 Do NOT edit this file if you don't have to!
#          Global customization is done in the "../default.mak" file.
#
#
#  Copyright (c) 1999 Ryan C. Gordon and Gregory S. Read.
#----------------------------------------------------------------------------#

BASICLIBDIR = ..

include ../default.mak

DYNLIBBASE = libVBcons.so
DYNLIBWHOLE = $(DYNLIBBASE).$(WHOLEVERSION)
DYNLIBMAJOR = $(DYNLIBBASE).$(MAJORVER)

all : $(DYNLIBBASE)

install: all
	cp $(DYNLIBWHOLE) /usr/local/lib
	ln -sf $(INSTPREFIX)/$(DYNLIBWHOLE) $(INSTPREFIX)/$(DYNLIBMAJOR)
	ln -sf $(INSTPREFIX)/$(DYNLIBMAJOR) $(INSTPREFIX)/$(DYNLIBBASE)
	ldconfig

%.o : %.c
	$(CC) $(COPTIONS) $@ $<

$(DYNLIBBASE) : $(DYNLIBMAJOR)
	ln -sf $(DYNLIBMAJOR) $(DYNLIBBASE)

$(DYNLIBMAJOR) : $(DYNLIBWHOLE)
	ln -sf $(DYNLIBWHOLE) $(DYNLIBMAJOR)

$(DYNLIBWHOLE) : $(OBJS)
	$(LINKER) $(LOPTIONS) $(DYNLIBWHOLE) $(OBJS)

clean:
	rm -f $(OBJS) core $(DYNLIBBASE) $(DYNLIBWHOLE) $(DYNLIBMAJOR)

# end of Makefile ...

